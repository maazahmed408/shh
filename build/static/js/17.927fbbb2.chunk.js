(this.webpackJsonpkickrtechnology=this.webpackJsonpkickrtechnology||[]).push([[17],{539:function(e,t){t.baseUrl="https://ehospi-app.herokuapp.com"},540:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(542);var a=n(541);function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},645:function(e,t){},664:function(e,t,n){"use strict";n.r(t);var r=n(540),a=n(545),c=n(538),s=n(546),i=n.n(s),l=n(2),o=(n(543),n(544),n(645)),d=n.n(o),u=n(539),b=n(547),j=n.n(b),p=n(551),h=(n(550),n(23));p.b.configure();t.default=function(){var e=Object(l.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],o=Object(l.useState)(""),b=Object(c.a)(o,2),f=b[0],m=b[1],x=Object(l.useState)(null),O=Object(c.a)(x,2),v=O[0],y=O[1],g=Object(l.useState)(n),w=Object(c.a)(g,2),S=w[0],k=w[1],A=Object(l.useState)(0),D=Object(c.a)(A,2),N=D[0],I=D[1],T=Object(l.useState)(!1),L=Object(c.a)(T,2),z=L[0],C=L[1],U=Object(l.useState)("Save"),B=Object(c.a)(U,2),F=B[0],q=B[1],E=function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(!0),q("Loading..."),n={department:f},e.next=6,j.a.post(u.baseUrl+"/addDepartment",n,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 6:e.sent&&(I(N+1),C(!1),q("Save"),p.b.success("Depatments added successfully",{autoClose:600})),m("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(u.baseUrl+"/getDepartment",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){J()}),[N]);var R=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.department,r=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete(u.baseUrl+"/deleteDepartment",{data:{department:n},headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:e.sent&&(I(N+1),p.b.success("Departments deleted successfully",{autoClose:600}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=window.confirm("Are you sure? You want to delete: "+n),console.log(c),c&&r();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=Object(l.useState)({insurance:" "}),_=Object(c.a)(Y,2),G=_[0];_[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{children:Object(h.jsx)("section",{class:"content",children:Object(h.jsxs)("div",{class:"container-fluid",children:[Object(h.jsx)("div",{class:"block-header",children:Object(h.jsx)("h2",{className:"Addbed",style:{color:"#056078",fontSize:"13px"},children:"Add New Department"})}),Object(h.jsx)("div",{class:" Addnow1 col row-12 d-flex",children:Object(h.jsx)("div",{className:" facility1 col-sm-10 ",children:Object(h.jsxs)("form",{onSubmit:E,children:[Object(h.jsx)("input",{style:{marginLeft:"30px",paddingTop:"5px"},type:"text",name:"insurance",value:f,required:"required",placeholder:"Add New Department",onChange:function(e){m(e.target.value)}}),Object(h.jsx)("button",{type:"submit",disabled:z,className:"submit2",style:{background:"#056078",color:"white",marginLeft:"100px",borderRadius:"5px"},children:F})]})})}),Object(h.jsx)("div",{class:"row clearfix",style:{marginTop:"20px"},children:Object(h.jsx)("div",{class:"facility col-lg-12 col-md-12 col-sm-12",children:Object(h.jsx)("div",{class:"card",children:Object(h.jsx)("div",{class:"body table-responsive",children:Object(h.jsx)("div",{className:"response",children:Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={id:v,department:G.department},n=Object(r.a)(S);n[S.findIndex((function(e){return e._id===v}))]=t,k(n),y(null)},children:Object(h.jsxs)("table",{class:"table table-bordered table-striped table-hover js-basic-example dataTable",children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:Object(h.jsx)("th",{children:"Departments List"})})}),Object(h.jsx)("tbody",{style:{width:"5px"},children:0!==n.length&&n.map((function(e){return Object(h.jsx)(l.Fragment,{children:v===e.department?Object(h.jsx)(d.a,{editFormData:G}):Object(h.jsx)("table",{class:"table table-bordered table-striped table-hover js-basic-example dataTable",style:{width:"100%"},children:Object(h.jsx)("thead",{class:"",style:{width:""},children:Object(h.jsxs)("tr",{style:{paddingTop:"30px",marginLeft:"30px",width:"10px"},children:[Object(h.jsx)("td",{children:e.department}),Object(h.jsx)("td",{style:{textAlign:"right"},children:Object(h.jsx)("button",{onClick:function(){return R(e)},className:"btn btn-xm px-1 py-1 btn btn-xm",children:Object(h.jsx)("i",{class:"fas fa-trash"})})})]})})})})}))})]})})})})})})})]})})})})}}}]);
//# sourceMappingURL=17.927fbbb2.chunk.js.map