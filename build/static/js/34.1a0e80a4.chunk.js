(this.webpackJsonpkickrtechnology=this.webpackJsonpkickrtechnology||[]).push([[34],{539:function(e,t){t.baseUrl="https://ehospi-app.herokuapp.com"},540:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(542);var a=n(541);function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},699:function(e,t,n){"use strict";n.r(t);var r=n(540),a=n(545),c=n(538),s=n(546),i=n.n(s),o=n(2),l=(n(543),n(544),n(23)),u=n(539),d=n(547),b=n.n(d),j=n(551);n(550);j.b.configure();t.default=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],d=Object(o.useState)(""),p=Object(c.a)(d,2),h=p[0],f=p[1],x=Object(o.useState)(""),O=Object(c.a)(x,2),m=O[0],v=O[1],y=Object(o.useState)(null),g=Object(c.a)(y,2),w=g[0],S=g[1],k=Object(o.useState)(n),A=Object(c.a)(k,2),I=A[0],T=A[1],N=Object(o.useState)(0),C=Object(c.a)(N,2),L=C[0],P=C[1],q=Object(o.useState)(!1),z=Object(c.a)(q,2),U=z[0],B=z[1],D=Object(o.useState)("Save"),E=Object(c.a)(D,2),J=E[0],F=E[1],R=function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),B(!0),F("Loading..."),n={insurance:h,tpa:m},e.next=6,b.a.post(u.baseUrl+"/addInsurance",n,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 6:e.sent&&(P(L+1),B(!1),F("Save"),j.b.success("Insurance added successfully",{autoClose:600})),f(""),v("");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(u.baseUrl+"/getInsurance",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.insurance,r=t.tpa,c=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete(u.baseUrl+"/deleteInsurance",{data:{insurance:n,tpa:r},headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:e.sent&&(P(L+1),j.b.success("Insurance deleted successfully",{autoClose:600}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=window.confirm("Are you sure? You want to delete :"+n+" ("+r+")"),console.log(s),s&&c();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){Y()}),[L]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{children:Object(l.jsx)("section",{class:"content",children:Object(l.jsxs)("div",{class:"container-fluid",children:[Object(l.jsx)("div",{class:"block-header",children:Object(l.jsx)("h2",{className:"Addbed",style:{color:"#056078",fontSize:"13px"},children:"Add New Insurance"})}),Object(l.jsx)("div",{class:" Addnow1 col row-12 d-flex",children:Object(l.jsx)("div",{className:" facility1 col-sm-10 ",children:Object(l.jsxs)("form",{onSubmit:R,children:[Object(l.jsx)("input",{style:{marginLeft:"30px",paddingTop:"5px"},type:"text",name:"insurance",value:h,required:"required",placeholder:"Add New Insurance",onChange:function(e){f(e.target.value)}}),Object(l.jsx)("input",{style:{marginLeft:"30px",paddingTop:"5px",width:"15rem"},type:"text",value:m,name:"TPA",required:"required",placeholder:"Third Party Administrator (TPA)",onChange:function(e){v(e.target.value)}}),Object(l.jsx)("button",{type:"submit",disabled:U,className:"submit2",style:{background:"#056078",color:"white",marginLeft:"100px",borderRadius:"5px"},children:J})]})})}),Object(l.jsx)("div",{class:"row clearfix",style:{marginTop:"20px"},children:Object(l.jsx)("div",{class:"facility col-lg-12 col-md-12 col-sm-12",children:Object(l.jsx)("div",{class:"card",children:Object(l.jsx)("div",{class:"body table-responsive",children:Object(l.jsx)("div",{className:"response",children:Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={id:w},n=Object(r.a)(I);n[I.findIndex((function(e){return e._id===w}))]=t,T(n),S(null)},children:Object(l.jsxs)("table",{class:"table table-bordered table-striped table-hover js-basic-example dataTable",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Insurances List"}),Object(l.jsx)("th",{children:"Third Party Administrator(TPA)"})]})}),Object(l.jsx)("tbody",{style:{width:"5px"},children:n.length>0&&n.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.insurance}),Object(l.jsx)("td",{children:e.tpa}),Object(l.jsx)("td",{style:{textAlign:"center"},children:Object(l.jsx)("button",{className:"btn btn-xm px-1 py-1 btn btn-xm",children:Object(l.jsx)("i",{onClick:function(){return _(e)},class:"fas fa-trash"})})})]})}))})]})})})})})})})]})})})})}}}]);
//# sourceMappingURL=34.1a0e80a4.chunk.js.map