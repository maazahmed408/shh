(this.webpackJsonpkickrtechnology=this.webpackJsonpkickrtechnology||[]).push([[22],{539:function(e,t){t.baseUrl="https://ehospi-app.herokuapp.com"},540:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var r=c(542);var a=c(541);function n(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},698:function(e,t,c){"use strict";c.r(t);var r=c(540),a=c(545),n=c(538),s=c(546),i=c.n(s),l=c(2),o=(c(543),c(544),c(547)),d=c.n(o),b=c(539),u=c(23),j=function(e){var t=e.editFormData,c=e.handleEditFormChange,r=e.handleCancelClick;return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",required:"required",placeholder:"servicesName",name:"servicesName",value:t.services,onChange:c})}),Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"col-sm-12 d-flex text align-center",children:[Object(u.jsx)("div",{className:"col-sm-6",children:Object(u.jsx)("button",{type:"submit",class:"btn btn-sm",children:"Save"})}),Object(u.jsx)("div",{className:"col-sm-6",children:Object(u.jsx)("button",{className:"btn btn-sm",type:"button",onClick:r,children:"Cancel"})})]})})]})},h=c(551);c(550);h.b.configure();t.default=function(){var e=Object(l.useState)([]),t=Object(n.a)(e,2),c=t[0],s=t[1],o=Object(l.useState)(""),p=Object(n.a)(o,2),x=p[0],f=p[1],v=Object(l.useState)(0),O=Object(n.a)(v,2),m=O[0],y=O[1],g=Object(l.useState)(null),S=Object(n.a)(g,2),w=S[0],k=S[1],N=Object(l.useState)(c),A=Object(n.a)(N,2),C=A[0],I=A[1],T=Object(l.useState)(!1),F=Object(n.a)(T,2),L=F[0],q=F[1],z=Object(l.useState)("Save"),D=Object(n.a)(z,2),U=D[0],B=D[1],E=function(){var e=Object(a.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),B("Loading"),q(!0),c={services:x},e.next=6,d.a.post(b.baseUrl+"/addServices",c,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 6:e.sent&&(y(m+1),B("Save"),q(!1),h.b.success("Service added successfully",{autoClose:600})),f("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(b.baseUrl+"/getServices",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){J()}),[m]);var R=function(){var e=Object(a.a)(i.a.mark((function e(t){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.services,r=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete(b.baseUrl+"/deleteServices",{data:{services:c},headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:e.sent&&(y(m+1),h.b.success("Service deleted successfully",{autoClose:600}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),window.confirm("Are you sure? You want to delete: "+c)&&r();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=Object(l.useState)({servicesName:" "}),_=Object(n.a)(Y,2),G=_[0];_[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{children:Object(u.jsx)("section",{class:"content",children:Object(u.jsxs)("div",{class:"container-fluid",children:[Object(u.jsx)("div",{class:"block-header",children:Object(u.jsx)("h2",{className:"Addbed",style:{color:"#056078",fontSize:"13px"},children:"Add New Service"})}),Object(u.jsx)("div",{class:" Addnow1 col row-12 d-flex",children:Object(u.jsx)("div",{className:" facility1 col-sm-10 ",children:Object(u.jsxs)("form",{onSubmit:E,children:[Object(u.jsx)("input",{style:{marginLeft:"30px",paddingTop:"5px"},type:"text",name:"servicesName",value:x,required:"required",placeholder:"Add New Service",onChange:function(e){f(e.target.value)}}),Object(u.jsx)("button",{type:"submit",className:"submit2",disabled:L,style:{background:"#056078",color:"white",marginLeft:"100px",borderRadius:"5px"},children:U})]})})}),Object(u.jsx)("div",{class:"row clearfix",style:{marginTop:"20px"},children:Object(u.jsx)("div",{class:"facility col-lg-12 col-md-12 col-sm-12",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsx)("div",{class:"body table-responsive",children:Object(u.jsx)("div",{className:"response",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={id:w,servicesName:G.servicesName},c=Object(r.a)(C);c[C.findIndex((function(e){return e._id===w}))]=t,I(c),k(null)},children:Object(u.jsxs)("table",{class:"table table-bordered table-striped table-hover js-basic-example dataTable",children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"Services List"})})}),Object(u.jsx)("tbody",{style:{width:"5px"},children:0!=c.length&&c.map((function(e){return Object(u.jsx)(l.Fragment,{children:w===e.servicesName?Object(u.jsx)(j,{editFormData:G}):Object(u.jsx)("table",{class:"table table-bordered table-striped table-hover js-basic-example dataTable",children:Object(u.jsx)("thead",{style:{textAlign:"left"},children:Object(u.jsxs)("tr",{style:{paddingTop:"30px",marginLeft:"30px",width:"10px"},children:[Object(u.jsx)("td",{children:e.services}),Object(u.jsx)("td",{style:{textAlign:"right"},children:Object(u.jsx)("button",{onClick:function(){return R(e)},className:"btn btn-xm px-1 py-1 btn btn-xm",children:Object(u.jsx)("i",{class:"fas fa-trash"})})})]})})})})}))})]})})})})})})})]})})})})}}}]);
//# sourceMappingURL=22.125ecac7.chunk.js.map