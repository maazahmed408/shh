(this.webpackJsonpkickrtechnology=this.webpackJsonpkickrtechnology||[]).push([[20],{539:function(e,t){t.baseUrl="https://ehospi-app.herokuapp.com"},540:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(542);var r=n(541);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},697:function(e,t,n){"use strict";n.r(t);var a=n(540),r=n(545),c=n(538),s=n(546),i=n.n(s),l=n(2),d=(n(543),n(544),n(547)),o=n.n(d),b=n(539),u=n(23),j=function(e){var t=e.editFormData,n=e.handleEditFormChange,a=e.handleCancelClick;return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",required:"required",placeholder:"Add Aminities",name:"AddAminities",value:t.AddAminities,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",required:"required",placeholder:"AdditionalCharges",name:"AdditionalCharges",value:t.AdditionalCharges,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"col-sm-12 d-flex text align-center",children:[Object(u.jsx)("div",{className:"col-sm-6",children:Object(u.jsx)("button",{type:"submit",class:"btn btn-sm",children:"Save"})}),Object(u.jsx)("div",{className:"col-sm-6",children:Object(u.jsx)("button",{className:"btn btn-sm",type:"button",onClick:a,children:"Cancel"})})]})})]})},h=n(551);n(550);h.b.configure();t.default=function(){var e=Object(l.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],d=Object(l.useState)(""),m=Object(c.a)(d,2),p=m[0],x=m[1],f=Object(l.useState)(0),O=Object(c.a)(f,2),v=O[0],y=O[1],g=Object(l.useState)(null),A=Object(c.a)(g,2),w=A[0],S=A[1],k=Object(l.useState)(!1),C=Object(c.a)(k,2),N=C[0],q=C[1],I=Object(l.useState)("Save"),T=Object(c.a)(I,2),F=T[0],L=T[1];function z(){return(z=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),L("Loading..."),q(!0),n={amenities:p},e.next=6,o.a.post(b.baseUrl+"/addAmenities",n,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 6:e.sent&&(y(v+1),L("Save"),q(!1),h.b.success("Amenity added successfully",{autoClose:600})),x("");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get(b.baseUrl+"/getAmenities",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){D()}),[v]);var U=function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.amenities,a=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete(b.baseUrl+"/deleteAmenities",{data:{amenities:n},headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:e.sent&&(y(v+1),h.b.success("Amenity deleted successfully",{autoClose:600})),x("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=window.confirm("Are you sure? You want to delete: "+n),console.log(c),c&&a();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object(l.useState)(n),E=Object(c.a)(B,2),J=E[0],R=E[1],Y=Object(l.useState)({amenities:" "}),_=Object(c.a)(Y,2),G=_[0];_[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{children:Object(u.jsx)("section",{class:"content",children:Object(u.jsxs)("div",{class:"container-fluid",children:[Object(u.jsx)("div",{class:"block-header",children:Object(u.jsx)("h2",{className:"Addbed",style:{color:"#056078",fontSize:"13px"},children:"Add New Amenity"})}),Object(u.jsx)("div",{class:" Addnow1 col row-12 d-flex",children:Object(u.jsx)("div",{className:" facility1 col-sm-10 ",children:Object(u.jsxs)("form",{onSubmit:function(e){return z.apply(this,arguments)},children:[Object(u.jsx)("input",{style:{marginLeft:"30px",paddingTop:"5px"},type:"text",name:"amenities",value:p,required:"required",placeholder:"Add New Amenity",onChange:function(e){x(e.target.value)}}),Object(u.jsx)("button",{type:"submit",disabled:N,className:"submit2",style:{background:"#056078",color:"white",marginLeft:"100px",borderRadius:"5px"},children:F})]})})}),Object(u.jsx)("div",{class:"row clearfix",style:{marginTop:"20px"},children:Object(u.jsx)("div",{class:"facility col-lg-12 col-md-12 col-sm-12",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsx)("div",{class:"body table-responsive",children:Object(u.jsx)("div",{className:"response",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={id:w,amenities:G.amenities},n=Object(a.a)(J);n[J.findIndex((function(e){return e._id===w}))]=t,R(n),S(null)},children:Object(u.jsxs)("table",{class:"table table-bordered table-striped table-hover js-basic-example dataTable",children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"Amenities List"})})}),Object(u.jsx)("tbody",{style:{width:"5px"},children:n.length>1&&n.map((function(e){return Object(u.jsx)(l.Fragment,{children:w===e.amenities?Object(u.jsx)(j,{editFormData:G}):Object(u.jsx)("table",{class:"table table-bordered table-striped table-hover js-basic-example dataTable",children:Object(u.jsx)("thead",{style:{textAlign:"left"},children:Object(u.jsxs)("tr",{style:{paddingTop:"30px",marginLeft:"30px",width:"10px"},children:[Object(u.jsx)("td",{children:e.amenities}),Object(u.jsx)("td",{style:{textAlign:"right"},children:Object(u.jsx)("button",{onClick:function(){return U(e)},className:"btn btn-xm px-1 py-1 btn btn-xm",children:Object(u.jsx)("i",{class:"fas fa-trash"})})})]})})})})}))})]})})})})})})})]})})})})}}}]);
//# sourceMappingURL=20.29f05f84.chunk.js.map