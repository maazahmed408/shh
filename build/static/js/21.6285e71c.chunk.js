(this.webpackJsonpkickrtechnology=this.webpackJsonpkickrtechnology||[]).push([[21],{539:function(e,t){t.baseUrl="https://ehospi-app.herokuapp.com"},540:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var c=a(542);var n=a(541);function r(e){return function(e){if(Array.isArray(e))return Object(c.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},696:function(e,t,a){"use strict";a.r(t);var c=a(540),n=a(545),r=a(538),i=a(546),s=a.n(i),l=a(2),o=(a(543),a(544),a(547)),d=a.n(o),b=a(539),u=a(23),j=function(e){var t=e.editFormData,a=e.handleEditFormChange,c=e.handleCancelClick;return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",required:"required",placeholder:"Enter Facility",name:"Facility_Name",value:t.facilitiesName,onChange:a})}),Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"col-sm-12 d-flex text align-center",children:[Object(u.jsx)("div",{className:"col-sm-6",children:Object(u.jsx)("button",{type:"submit",class:"btn btn-sm",children:"Save"})}),Object(u.jsx)("div",{className:"col-sm-6",children:Object(u.jsx)("button",{className:"btn btn-sm",type:"button",onClick:c,children:"Cancel"})})]})})]})},h=a(551);a(550);h.b.configure();t.default=function(){var e=Object(l.useState)([]),t=Object(r.a)(e,2),a=t[0],i=t[1],o=Object(l.useState)(""),f=Object(r.a)(o,2),p=f[0],x=f[1],O=Object(l.useState)(null),m=Object(r.a)(O,2),v=m[0],y=m[1],g=Object(l.useState)(a),w=Object(r.a)(g,2),S=w[0],k=w[1],F=Object(l.useState)(0),N=Object(r.a)(F,2),A=N[0],C=N[1],I=Object(l.useState)(!1),T=Object(r.a)(I,2),q=T[0],z=T[1],D=Object(l.useState)("Save"),E=Object(r.a)(D,2),L=E[0],U=E[1],B=function(){var e=Object(n.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),z(!0),U("Loading..."),a={facilities:p},e.next=6,d.a.post(b.baseUrl+"/addFacilities",a,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 6:e.sent&&(C(A+1),z(!1),U("Save"),h.b.success("Facilities added successfully",{autoClose:600}),x(""));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(n.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(b.baseUrl+"/getFacilities",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:t=e.sent,i(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){J()}),[A]);var _=function(){var e=Object(n.a)(s.a.mark((function e(t){var a,c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.facilities,c=function(){var e=Object(n.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete(b.baseUrl+"/deleteFacilities",{data:{facilities:a},headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:e.sent&&(C(A+1),h.b.success("Facilities deleted successfully",{autoClose:600}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=window.confirm("Are you sure? You want to delete: "+a),console.log(r),r&&c();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(a);var R=Object(l.useState)({facilities:" "}),Y=Object(r.a)(R,2),G=Y[0];Y[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{children:Object(u.jsx)("section",{class:"content",children:Object(u.jsxs)("div",{class:"container-fluid",children:[Object(u.jsx)("div",{class:"block-header",children:Object(u.jsx)("h2",{className:"Addbed",style:{color:"#056078",fontSize:"13px"},children:"Add New Facility"})}),Object(u.jsx)("div",{class:" Addnow1 col row-12 d-flex",children:Object(u.jsx)("div",{className:" facility1 col-sm-10 ",children:Object(u.jsxs)("form",{onSubmit:B,children:[Object(u.jsx)("input",{style:{marginLeft:"30px",paddingTop:"5px"},type:"text",name:"facilities",value:p,required:"required",placeholder:"Add New Facility",onChange:function(e){x(e.target.value)}}),Object(u.jsx)("button",{type:"submit",className:"submit2",disabled:q,style:{background:"#056078",color:"white",marginLeft:"100px",borderRadius:"5px"},children:L})]})})}),Object(u.jsx)("div",{class:"row clearfix",style:{marginTop:"20px"},children:Object(u.jsx)("div",{class:"facility col-lg-12 col-md-12 col-sm-12",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsx)("div",{class:"body table-responsive",children:Object(u.jsx)("div",{className:"response",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={id:v,facilities:G.facilities},a=Object(c.a)(S);a[S.findIndex((function(e){return e._id===v}))]=t,k(a),y(null)},children:Object(u.jsxs)("table",{class:"table table-bordered table-striped table-hover js-basic-example dataTable",children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"Facilities Name"})})}),Object(u.jsx)("tbody",{style:{width:"5px"},children:0!==a.length&&a.map((function(e){return Object(u.jsx)(l.Fragment,{children:v===e.facilities?Object(u.jsx)(j,{editFormData:G}):Object(u.jsx)("table",{class:"table table-bordered table-striped table-hover js-basic-example dataTable",children:Object(u.jsx)("thead",{style:{textAlign:"left"},children:Object(u.jsxs)("tr",{style:{paddingTop:"30px",marginLeft:"30px",width:"10px"},children:[Object(u.jsx)("td",{children:e.facilities}),Object(u.jsx)("td",{style:{textAlign:"right"},children:Object(u.jsx)("button",{onClick:function(){return _(e)},className:"btn btn-xm px-1 py-1 btn btn-xm",children:Object(u.jsx)("i",{class:"fas fa-trash"})})})]})})})})}))})]})})})})})})})]})})})})}}}]);
//# sourceMappingURL=21.6285e71c.chunk.js.map